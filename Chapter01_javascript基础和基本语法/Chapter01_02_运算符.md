https://blog.csdn.net/Augenstern_QXL/article/details/119249534

| Operation      | Operator | Beschreibung                                                                                                      |
| -------------- | -------- | ----------------------------------------------------------------------------------------------------------------- |
| Addition       | +        | Summe der Operanden                                                                                               |
| Subtraktion    | -        | Differenz der Operanden                                                                                           |
| Multiplikation | *        | Produkt der Operanden                                                                                             |
| Division       | /        | Quotient der Operanden                                                                                            |
| Modulo         | %        | Ganzzahliger Rest der Division der Operanden                                                                      |
| Inkrement      | ++       | UnÃ¤rer Operator, der den Operanden um eins erhÃ¶ht. Kann als PrÃ¤fix- und als Postfix-Operator verwendet werden     |
| Dekrement      | --       | UnÃ¤rer Operator, der den Operanden um eins verringert. Kann als PrÃ¤fix- und als Postfix-Operator verwendet werden |
| unÃ¤re Negation | !        | UnÃ¤rer Operator, der die Negation der Operanden liefert. Nur PrÃ¤fix-Notation.                                     |

![](image/Pasted%20image%2020241123143540.png)
# 1 è¿ç®—ç¬¦

è¿ç®—ç¬¦ï¼ˆoperatorï¼‰ä¹Ÿè¢«ç§°ä¸º**æ“ä½œç¬¦**ï¼Œæ˜¯ç”¨äºå®ç°èµ‹å€¼ã€æ¯”è¾ƒå’Œæ‰§è¡Œç®—æ•°è¿ç®—ç­‰åŠŸèƒ½çš„ç¬¦å·

JavaScript ä¸­å¸¸ç”¨çš„è¿ç®—ç¬¦æœ‰ï¼š

-   ç®—æ•°è¿ç®—ç¬¦
-   é€’å¢å’Œé€’å‡è¿ç®—ç¬¦
-   æ¯”è¾ƒè¿ç®—ç¬¦
-   é€»è¾‘è¿ç®—ç¬¦
-   èµ‹å€¼è¿ç®—ç¬¦

## 1.1 ç®—æœ¯è¿ç®—ç¬¦
æ¦‚å¿µï¼šç®—æœ¯è¿ç®—ä½¿ç”¨çš„ç¬¦å·ï¼Œç”¨äºæ‰§è¡Œä¸¤ä¸ªå˜é‡æˆ–å€¼çš„ç®—æœ¯è¿ç®—ã€‚

è¿ç®—ç¬¦	æè¿°	å®ä¾‹
+	åŠ 	10 + 20 =30
-	å‡	10 - 20 =-10
*	ä¹˜	10 * 20 =200
/	é™¤	10 / 20 =0.5
%	å–ä½™æ•°ï¼ˆå–æ¨¡ï¼‰	è¿”å›å‡ºå‘çš„ä½™æ•° 9 % 2 =1

## 1.2 æµ®ç‚¹æ•°çš„ç²¾åº¦é—®é¢˜
æµ®ç‚¹æ•°å€¼çš„æœ€é«˜ç²¾åº¦æ˜¯17ä½å°æ•°ï¼Œä½†åœ¨è¿›è¡Œç®—æ•°è®¡ç®—æ—¶å…¶ç²¾ç¡®åº¦è¿œè¿œä¸å¦‚æ•´æ•°

var result = 0.1 +0.2; //ç»“æœä¸æ˜¯0.3ï¼Œ0.30000000000000004
console.log(0.07 * 100); //ç»“æœä¸æ˜¯7ï¼Œè€Œæ˜¯7.000000000000001


æ‰€ä»¥ä¸è¦ç›´æ¥åˆ¤æ–­ä¸¤ä¸ªæµ®ç‚¹æ•°æ˜¯å¦ç›¸ç­‰

## 1.3 é€’å¢å’Œé€’å‡è¿ç®—ç¬¦
é€’å¢ï¼ˆ++ï¼‰

é€’å‡ï¼ˆ- -ï¼‰

æ”¾åœ¨å˜é‡å‰é¢æ—¶ï¼Œæˆ‘ä»¬ç§°ä¸ºå‰ç½®é€’å¢(é€’å‡)è¿ç®—ç¬¦

æ”¾åœ¨å˜é‡åé¢æ—¶ï¼Œæˆ‘ä»¬ç§°ä¸ºåç½®é€’å¢(é€’å‡)è¿ç®—ç¬¦

æ³¨æ„ï¼šé€’å¢å’Œé€’å‡è¿ç®—ç¬¦å¿…é¡»å’Œå˜é‡é…åˆä½¿ç”¨ã€‚

â‘ å‰ç½®é€’å¢è¿ç®—ç¬¦
++num ä¸º  num = num + 1
ä½¿ç”¨å£è¯€:å…ˆè‡ªåŠ ï¼Œåè¿”å›å€¼

var num = 10;
alert (++num + 10); // 21

å…ˆè‡ªåŠ  10+1=11ï¼Œè¿”å›11ï¼Œæ­¤æ—¶num=11

â‘¡åç½®é€’å¢è¿ç®—ç¬¦
num ++  ä¸º num = num +1
ä½¿ç”¨å£è¯€:å…ˆè¿”å›åŸå€¼ï¼Œåè‡ªåŠ 

var num = 10;
alert(10 + num++); // 20


â‘¢å°ç»“
å‰ç½®é€’å¢å’Œåç½®é€’å¢è¿ç®—ç¬¦å¯ä»¥ç®€åŒ–ä»£ç çš„ç¼–å†™ï¼Œè®©å˜é‡çš„å€¼ + 1 æ¯”ä»¥å‰å†™æ³•æ›´ç®€å•
å•ç‹¬ä½¿ç”¨æ—¶ï¼Œè¿è¡Œç»“æœç›¸åŒï¼Œä¸å…¶ä»–ä»£ç è”ç”¨æ—¶ï¼Œæ‰§è¡Œç»“æœä¼šä¸åŒ
å¼€å‘æ—¶ï¼Œå¤§å¤šä½¿ç”¨åç½®é€’å¢/å‡ï¼Œå¹¶ä¸”ä»£ç ç‹¬å ä¸€è¡Œ


## 1.4 æ¯”è¾ƒ(å…³ç³»)è¿ç®—ç¬¦
æ¯”è¾ƒè¿ç®—ç¬¦æ˜¯ä¸¤ä¸ªæ•°æ®è¿›è¡Œæ¯”è¾ƒæ—¶æ‰€ä½¿ç”¨çš„è¿ç®—ç¬¦ï¼Œæ¯”è¾ƒè¿ç®—åï¼Œä¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼(true / false)ä½œä¸ºæ¯”è¾ƒè¿ç®—çš„ç»“æœã€‚

è¿ç®—ç¬¦åç§°	è¯´æ˜	æ¡ˆä¾‹	ç»“æœ
<	å°äºå·	1 < 2	true
`>` å¤§äºå·	1 > 2	false
`>=`	å¤§äºç­‰äºå·(å¤§äºæˆ–è€…ç­‰äº)	2 >= 2	true
<=	å°äºç­‰äºå·(å°äºæˆ–è€…ç­‰äº)	3 <= 2	false
==	åˆ¤ç­‰å·(ä¼šè½¬å‹)	37 == 37	å¾—åˆ° true.   1 == true  , ç»“æœä¸º true. 0 == true  , ç»“æœä¸º false.   <mark> 2 == true  , ç»“æœä¸º false. </mark>
!=	ä¸ç­‰å·	37 != 37	false
=== !==	å…¨ç­‰ è¦æ±‚å€¼å’Œæ•°æ®ç±»å‹éƒ½ä¸€è‡´	37 === â€˜37â€™	false

==   (nur value geleichen )  , und === (type und value sind gleich)

â‘  å°ç»“
ç¬¦å·	ä½œç”¨	ç”¨æ³•
=	èµ‹å€¼	æŠŠå³è¾¹ç»™å·¦è¾¹
==	åˆ¤æ–­	åˆ¤æ–­ä¸¤è¾¹å€¼æ˜¯å¦ç›¸ç­‰(æ³¨æ„æ­¤æ—¶æœ‰éšå£«è½¬æ¢)
===	å…¨ç­‰	åˆ¤æ–­ä¸¤è¾¹çš„å€¼å’Œæ•°æ®ç±»å‹æ˜¯å¦å®Œå…¨ç›¸åŒ
console.log(18 == '18');		//true
console.log(18 === '18');		//false



![](image/Pasted%20image%2020241123143743.png)

![](image/Pasted%20image%2020241123143803.png)

![](image/Pasted%20image%2020241123143829.png)

### 1.4.1 GLEICHHEITSVERGLEICHE
![](image/Pasted%20image%2020241123143926.png)



## 1.5 é€»è¾‘è¿ç®—ç¬¦
é€»è¾‘è¿ç®—ç¬¦æ˜¯ç”¨æ¥è¿›è¡Œå¸ƒå°”å€¼è¿ç®—çš„è¿ç®—ç¬¦ï¼Œå…¶è¿”å›å€¼ä¹Ÿæ˜¯å¸ƒå°”å€¼

é€»è¾‘è¿ç®—ç¬¦	è¯´æ˜	æ¡ˆä¾‹
&&	â€œé€»è¾‘ä¸â€ï¼Œç®€ç§°"ä¸" and	     true && false
||	â€œé€»è¾‘æˆ–â€ï¼Œç®€ç§°"æˆ–" or      	true || false
ï¼	â€œé€»è¾‘éâ€ï¼Œç®€ç§°"é" not Negationen    	!true

é€»è¾‘ä¸ï¼šä¸¤è¾¹éƒ½æ˜¯ trueæ‰è¿”å› trueï¼Œå¦åˆ™è¿”å› false
é€»è¾‘æˆ–ï¼šä¸¤è¾¹éƒ½ä¸º false æ‰è¿”å› falseï¼Œå¦åˆ™éƒ½ä¸ºtrue
é€»è¾‘éï¼šé€»è¾‘éï¼ˆ!ï¼‰ä¹Ÿå«ä½œå–åç¬¦ï¼Œç”¨æ¥å–ä¸€ä¸ªå¸ƒå°”å€¼ç›¸åçš„å€¼ï¼Œå¦‚ true çš„ç›¸åå€¼æ˜¯ false

var isOk = !true;
console.log(isOk);  // false
//é€»è¾‘éï¼ˆ!ï¼‰ä¹Ÿå«ä½œå–åç¬¦ï¼Œç”¨æ¥å–ä¸€ä¸ªå¸ƒå°”å€¼ç›¸åçš„å€¼ï¼Œå¦‚ true çš„ç›¸åå€¼æ˜¯ false


### 1.5.1 çŸ­è·¯è¿ç®—(é€»è¾‘ä¸­æ–­)
çŸ­è·¯è¿ç®—çš„åŸç†ï¼šå½“æœ‰å¤šä¸ªè¡¨è¾¾å¼ï¼ˆå€¼ï¼‰æ—¶,å·¦è¾¹çš„è¡¨è¾¾å¼å€¼å¯ä»¥ç¡®å®šç»“æœæ—¶,å°±ä¸å†ç»§ç»­è¿ç®—å³è¾¹çš„è¡¨è¾¾å¼çš„å€¼

â‘ é€»è¾‘ä¸ğŸ”¥
è¯­æ³•ï¼šè¡¨è¾¾å¼1 && è¡¨è¾¾å¼2
å¦‚æœç¬¬ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ä¸ºçœŸï¼Œåˆ™è¿”å›è¡¨è¾¾å¼2
å¦‚æœç¬¬ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ä¸ºå‡ï¼Œåˆ™è¿”å›è¡¨è¾¾å¼1

```js
console.log(123 && 456);   //456
console.log(0 && 456);     //0
console.log(123 && 456 && 789);  //789
```


â‘¡é€»è¾‘æˆ–
è¯­æ³•ï¼šè¡¨è¾¾å¼1 || è¡¨è¾¾å¼2
å¦‚æœç¬¬ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ä¸ºçœŸï¼Œåˆ™è¿”å›è¡¨è¾¾å¼1
å¦‚æœç¬¬ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ä¸ºå‡ï¼Œåˆ™è¿”å›è¡¨è¾¾å¼2

```js
console.log(123 || 456); //123
console.log(0 || 456);   //456
console.log(123 || 456 || 789);  //123

var num = 0;
console.log(123 || num++);
// å…ˆè¿”å›åœ¨åŠ ï¼Œç›¸å½“äº (123 || 0)
console.log(num);    // 123
```

## 1.6 èµ‹å€¼è¿ç®—ç¬¦

æ¦‚å¿µï¼šç”¨æ¥æŠŠæ•°æ®èµ‹å€¼ç»™å˜é‡çš„è¿ç®—ç¬¦ã€‚

èµ‹å€¼è¿ç®—ç¬¦	è¯´æ˜	æ¡ˆä¾‹
=	ç›´æ¥èµ‹å€¼	var usrName = â€˜æˆ‘æ˜¯å€¼â€™
+= ï¼Œ-=	åŠ ï¼Œå‡ä¸€ä¸ªæ•°åå†èµ‹å€¼	var age = 10ï¼› age+=5ï¼›//15
*=ï¼Œ/=ï¼Œ%=	æˆï¼Œé™¤ï¼Œå–æ¨¡åå†èµ‹å€¼	var age = 2; age*=5; //10


var age = 10;
age += 5;  // ç›¸å½“äº age = age + 5;
age -= 5;  // ç›¸å½“äº age = age - 5;
age *= 10; // ç›¸å½“äº age = age * 10;

## 1.7 è¿ç®—ç¬¦ä¼˜å…ˆçº§ğŸ”¥
ä¼˜å…ˆçº§	è¿ç®—ç¬¦	é¡ºåº
1	å°æ‹¬å·	()
2	ä¸€å…ƒè¿ç®—ç¬¦	++ â€“ ï¼
3	ç®—æ•°è¿ç®—ç¬¦	å…ˆ * / å + -
4	å…³ç³»è¿ç®—ç¬¦	>, >= , < , <=,
5	ç›¸ç­‰è¿ç®—ç¬¦	ï¼Œï¼=ï¼Œ=ï¼Œï¼==
6	é€»è¾‘è¿ç®—ç¬¦	å…ˆ && å ||ï¼ˆå…ˆä¸åæˆ–ï¼‰
7	èµ‹å€¼è¿ç®—ç¬¦	=
8	é€—å·è¿ç®—ç¬¦	ï¼Œ


1.ä¸€å…ƒè¿ç®—ç¬¦é‡Œé¢çš„é€»è¾‘éä¼˜å…ˆçº§å¾ˆé«˜
2.é€»è¾‘ä¸ æ¯” é€»è¾‘æˆ– ä¼˜å…ˆçº§é«˜

### 1.7.1 ç»ƒä¹ é¢˜
```js
1 
console.log( 4 >= 6 || 'äºº' != 'é˜¿å‡¡è¾¾' && !(12 * 2 == 144) && true)	// true

2
var a = 3 > 5 && 2 < 7 && 3 == 4; 
console.log(a); 	//false 

var b = 3 <= 4 || 3 > 1 || 3 != 2; 
console.log(b); 	//true

var c = 2 === "2"; 
console.log(c);  	//false

var d = !c || b && a ;
console.log(d);		//true
```



# 2 è¿ç®—ç¬¦çš„æ‰©å±•
## 2.1 æŒ‡æ•°è¿ç®—ç¬¦

ES2016 æ–°å¢äº†ä¸€ä¸ªæŒ‡æ•°è¿ç®—ç¬¦ï¼ˆ`**`ï¼‰ã€‚

```js
2 ** 2 // 4
2 ** 3 // 8
```

è¿™ä¸ªè¿ç®—ç¬¦çš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯å³ç»“åˆï¼Œè€Œä¸æ˜¯å¸¸è§çš„å·¦ç»“åˆã€‚å¤šä¸ªæŒ‡æ•°è¿ç®—ç¬¦è¿ç”¨æ—¶ï¼Œæ˜¯ä»æœ€å³è¾¹å¼€å§‹è®¡ç®—çš„ã€‚

```js
// ç›¸å½“äº 2 ** (3 ** 2)
2 ** 3 ** 2
// 512
```

ä¸Šé¢ä»£ç ä¸­ï¼Œé¦–å…ˆè®¡ç®—çš„æ˜¯ç¬¬äºŒä¸ªæŒ‡æ•°è¿ç®—ç¬¦ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€ä¸ªã€‚

æŒ‡æ•°è¿ç®—ç¬¦å¯ä»¥ä¸ç­‰å·ç»“åˆï¼Œå½¢æˆä¸€ä¸ªæ–°çš„èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ`**=`ï¼‰ã€‚

```js
let a = 1.5;
a **= 2;
// ç­‰åŒäº a = a * a;

let b = 4;
b **= 3;
// ç­‰åŒäº b = b * b * b;
```

## 2.2 é“¾åˆ¤æ–­è¿ç®—ç¬¦

ç¼–ç¨‹å®åŠ¡ä¸­ï¼Œå¦‚æœè¯»å–å¯¹è±¡å†…éƒ¨çš„æŸä¸ªå±æ€§ï¼Œå¾€å¾€éœ€è¦åˆ¤æ–­ä¸€ä¸‹ï¼Œå±æ€§çš„ä¸Šå±‚å¯¹è±¡æ˜¯å¦å­˜åœ¨ã€‚æ¯”å¦‚ï¼Œè¯»å–`message.body.user.firstName`è¿™ä¸ªå±æ€§ï¼Œå®‰å…¨çš„å†™æ³•æ˜¯å†™æˆä¸‹é¢è¿™æ ·ã€‚

```js
// é”™è¯¯çš„å†™æ³•
const  firstName = message.body.user.firstName || 'default';

// æ­£ç¡®çš„å†™æ³•
const firstName = (message
  && message.body
  && message.body.user
  && message.body.user.firstName) || 'default';
```

ä¸Šé¢ä¾‹å­ä¸­ï¼Œ`firstName`å±æ€§åœ¨å¯¹è±¡çš„ç¬¬å››å±‚ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­å››æ¬¡ï¼Œæ¯ä¸€å±‚æ˜¯å¦æœ‰å€¼ã€‚

ä¸‰å…ƒè¿ç®—ç¬¦`?:`ä¹Ÿå¸¸ç”¨äºåˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ã€‚

```js
const fooInput = myForm.querySelector('input[name=foo]')
const fooValue = fooInput ? fooInput.value : undefined
```

ä¸Šé¢ä¾‹å­ä¸­ï¼Œå¿…é¡»å…ˆåˆ¤æ–­`fooInput`æ˜¯å¦å­˜åœ¨ï¼Œæ‰èƒ½è¯»å–`fooInput.value`ã€‚

è¿™æ ·çš„å±‚å±‚åˆ¤æ–­éå¸¸éº»çƒ¦ï¼Œå› æ­¤ ES2020 å¼•å…¥äº†â€œé“¾åˆ¤æ–­è¿ç®—ç¬¦â€ï¼ˆoptional chaining operatorï¼‰`?.`ï¼Œç®€åŒ–ä¸Šé¢çš„å†™æ³•ã€‚

```js
const firstName = message?.body?.user?.firstName || 'default';
const fooValue = myForm.querySelector('input[name=foo]')?.value
```

ä¸Šé¢ä»£ç ä½¿ç”¨äº†`?.`è¿ç®—ç¬¦ï¼Œç›´æ¥åœ¨é“¾å¼è°ƒç”¨çš„æ—¶å€™åˆ¤æ–­ï¼Œå·¦ä¾§çš„å¯¹è±¡æ˜¯å¦ä¸º`null`æˆ–`undefined`ã€‚å¦‚æœæ˜¯çš„ï¼Œå°±ä¸å†å¾€ä¸‹è¿ç®—ï¼Œè€Œæ˜¯è¿”å›`undefined`ã€‚

ä¸‹é¢æ˜¯åˆ¤æ–­å¯¹è±¡æ–¹æ³•æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±ç«‹å³æ‰§è¡Œçš„ä¾‹å­ã€‚

```js
iterator.return?.()
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`iterator.return`å¦‚æœæœ‰å®šä¹‰ï¼Œå°±ä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¦åˆ™`iterator.return`ç›´æ¥è¿”å›`undefined`ï¼Œä¸å†æ‰§è¡Œ`?.`åé¢çš„éƒ¨åˆ†ã€‚

å¯¹äºé‚£äº›å¯èƒ½æ²¡æœ‰å®ç°çš„æ–¹æ³•ï¼Œè¿™ä¸ªè¿ç®—ç¬¦å°¤å…¶æœ‰ç”¨ã€‚

```js
if (myForm.checkValidity?.() === false) {
  // è¡¨å•æ ¡éªŒå¤±è´¥
  return;
}
```

ä¸Šé¢ä»£ç ä¸­ï¼Œè€å¼æµè§ˆå™¨çš„è¡¨å•å¯¹è±¡å¯èƒ½æ²¡æœ‰`checkValidity()`è¿™ä¸ªæ–¹æ³•ï¼Œè¿™æ—¶`?.`è¿ç®—ç¬¦å°±ä¼šè¿”å›`undefined`ï¼Œåˆ¤æ–­è¯­å¥å°±å˜æˆäº†`undefined === false`ï¼Œæ‰€ä»¥å°±ä¼šè·³è¿‡ä¸‹é¢çš„ä»£ç ã€‚

é“¾åˆ¤æ–­è¿ç®—ç¬¦`?.`æœ‰ä¸‰ç§å†™æ³•ã€‚

- `obj?.prop` // å¯¹è±¡å±æ€§æ˜¯å¦å­˜åœ¨
- `obj?.[expr]` // åŒä¸Š
- `func?.(...args)` // å‡½æ•°æˆ–å¯¹è±¡æ–¹æ³•æ˜¯å¦å­˜åœ¨

ä¸‹é¢æ˜¯`obj?.[expr]`ç”¨æ³•çš„ä¸€ä¸ªä¾‹å­ã€‚

```js
let hex = "#C0FFEE".match(/#([A-Z]+)/i)?.[1];
```

ä¸Šé¢ä¾‹å­ä¸­ï¼Œå­—ç¬¦ä¸²çš„`match()`æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰å‘ç°åŒ¹é…ä¼šè¿”å›`null`ï¼Œå¦‚æœå‘ç°åŒ¹é…ä¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œ`?.`è¿ç®—ç¬¦èµ·åˆ°äº†åˆ¤æ–­ä½œç”¨ã€‚

ä¸‹é¢æ˜¯`?.`è¿ç®—ç¬¦å¸¸è§å½¢å¼ï¼Œä»¥åŠä¸ä½¿ç”¨è¯¥è¿ç®—ç¬¦æ—¶çš„ç­‰ä»·å½¢å¼ã€‚

```js
a?.b
// ç­‰åŒäº
a == null ? undefined : a.b

a?.[x]
// ç­‰åŒäº
a == null ? undefined : a[x]

a?.b()
// ç­‰åŒäº
a == null ? undefined : a.b()

a?.()
// ç­‰åŒäº
a == null ? undefined : a()
```

ä¸Šé¢ä»£ç ä¸­ï¼Œç‰¹åˆ«æ³¨æ„åä¸¤ç§å½¢å¼ï¼Œå¦‚æœ`a?.b()`å’Œ`a?.()`ã€‚å¦‚æœ`a?.b()`é‡Œé¢çš„`a.b`æœ‰å€¼ï¼Œä½†ä¸æ˜¯å‡½æ•°ï¼Œä¸å¯è°ƒç”¨ï¼Œé‚£ä¹ˆ`a?.b()`æ˜¯ä¼šæŠ¥é”™çš„ã€‚`a?.()`ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå¦‚æœ`a`ä¸æ˜¯`null`æˆ–`undefined`ï¼Œä½†ä¹Ÿä¸æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆ`a?.()`ä¼šæŠ¥é”™ã€‚

ä½¿ç”¨è¿™ä¸ªè¿ç®—ç¬¦ï¼Œæœ‰å‡ ä¸ªæ³¨æ„ç‚¹ã€‚

ï¼ˆ1ï¼‰çŸ­è·¯æœºåˆ¶

æœ¬è´¨ä¸Šï¼Œ`?.`è¿ç®—ç¬¦ç›¸å½“äºä¸€ç§çŸ­è·¯æœºåˆ¶ï¼Œåªè¦ä¸æ»¡è¶³æ¡ä»¶ï¼Œå°±ä¸å†å¾€ä¸‹æ‰§è¡Œã€‚

```js
a?.[++x]
// ç­‰åŒäº
a == null ? undefined : a[++x]
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœ`a`æ˜¯`undefined`æˆ–`null`ï¼Œé‚£ä¹ˆ`x`ä¸ä¼šè¿›è¡Œé€’å¢è¿ç®—ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé“¾åˆ¤æ–­è¿ç®—ç¬¦ä¸€æ—¦ä¸ºçœŸï¼Œå³ä¾§çš„è¡¨è¾¾å¼å°±ä¸å†æ±‚å€¼ã€‚

ï¼ˆ2ï¼‰æ‹¬å·çš„å½±å“

å¦‚æœå±æ€§é“¾æœ‰åœ†æ‹¬å·ï¼Œé“¾åˆ¤æ–­è¿ç®—ç¬¦å¯¹åœ†æ‹¬å·å¤–éƒ¨æ²¡æœ‰å½±å“ï¼Œåªå¯¹åœ†æ‹¬å·å†…éƒ¨æœ‰å½±å“ã€‚

```js
(a?.b).c
// ç­‰ä»·äº
(a == null ? undefined : a.b).c
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`?.`å¯¹åœ†æ‹¬å·å¤–éƒ¨æ²¡æœ‰å½±å“ï¼Œä¸ç®¡`a`å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œåœ†æ‹¬å·åé¢çš„`.c`æ€»æ˜¯ä¼šæ‰§è¡Œã€‚

ä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨`?.`è¿ç®—ç¬¦çš„åœºåˆï¼Œä¸åº”è¯¥ä½¿ç”¨åœ†æ‹¬å·ã€‚

ï¼ˆ3ï¼‰æŠ¥é”™åœºåˆ

ä»¥ä¸‹å†™æ³•æ˜¯ç¦æ­¢çš„ï¼Œä¼šæŠ¥é”™ã€‚

```js
// æ„é€ å‡½æ•°
new a?.()
new a?.b()

// é“¾åˆ¤æ–­è¿ç®—ç¬¦çš„å³ä¾§æœ‰æ¨¡æ¿å­—ç¬¦ä¸²
a?.`{b}`
a?.b`{c}`

// é“¾åˆ¤æ–­è¿ç®—ç¬¦çš„å·¦ä¾§æ˜¯ super
super?.()
super?.foo

// é“¾è¿ç®—ç¬¦ç”¨äºèµ‹å€¼è¿ç®—ç¬¦å·¦ä¾§
a?.b = c
```

## 2.3 Null åˆ¤æ–­è¿ç®—ç¬¦

è¯»å–å¯¹è±¡å±æ€§çš„æ—¶å€™ï¼Œå¦‚æœæŸä¸ªå±æ€§çš„å€¼æ˜¯`null`æˆ–`undefined`ï¼Œæœ‰æ—¶å€™éœ€è¦ä¸ºå®ƒä»¬æŒ‡å®šé»˜è®¤å€¼ã€‚å¸¸è§åšæ³•æ˜¯é€šè¿‡`||`è¿ç®—ç¬¦æŒ‡å®šé»˜è®¤å€¼ã€‚

```js
const headerText = response.settings.headerText || 'Hello, world!';
const animationDuration = response.settings.animationDuration || 300;
const showSplashScreen = response.settings.showSplashScreen || true;
```

ä¸Šé¢çš„ä¸‰è¡Œä»£ç éƒ½é€šè¿‡`||`è¿ç®—ç¬¦æŒ‡å®šé»˜è®¤å€¼ï¼Œä½†æ˜¯è¿™æ ·å†™æ˜¯é”™çš„ã€‚å¼€å‘è€…çš„åŸæ„æ˜¯ï¼Œåªè¦å±æ€§çš„å€¼ä¸º`null`æˆ–`undefined`ï¼Œé»˜è®¤å€¼å°±ä¼šç”Ÿæ•ˆï¼Œä½†æ˜¯å±æ€§çš„å€¼å¦‚æœä¸ºç©ºå­—ç¬¦ä¸²æˆ–`false`æˆ–`0`ï¼Œé»˜è®¤å€¼ä¹Ÿä¼šç”Ÿæ•ˆã€‚

ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼ŒES2020å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ Null åˆ¤æ–­è¿ç®—ç¬¦`??`ã€‚å®ƒçš„è¡Œä¸ºç±»ä¼¼`||`ï¼Œä½†æ˜¯åªæœ‰è¿ç®—ç¬¦å·¦ä¾§çš„å€¼ä¸º`null`æˆ–`undefined`æ—¶ï¼Œæ‰ä¼šè¿”å›å³ä¾§çš„å€¼ã€‚

```js
const headerText = response.settings.headerText ?? 'Hello, world!';
const animationDuration = response.settings.animationDuration ?? 300;
const showSplashScreen = response.settings.showSplashScreen ?? true;
```

ä¸Šé¢ä»£ç ä¸­ï¼Œé»˜è®¤å€¼åªæœ‰åœ¨å·¦ä¾§å±æ€§å€¼ä¸º`null`æˆ–`undefined`æ—¶ï¼Œæ‰ä¼šç”Ÿæ•ˆã€‚

è¿™ä¸ªè¿ç®—ç¬¦çš„ä¸€ä¸ªç›®çš„ï¼Œå°±æ˜¯è·Ÿé“¾åˆ¤æ–­è¿ç®—ç¬¦`?.`é…åˆä½¿ç”¨ï¼Œä¸º`null`æˆ–`undefined`çš„å€¼è®¾ç½®é»˜è®¤å€¼ã€‚

```js
const animationDuration = response.settings?.animationDuration ?? 300;
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœ`response.settings`æ˜¯`null`æˆ–`undefined`ï¼Œæˆ–è€…`response.settings.animationDuration`æ˜¯`null`æˆ–`undefined`ï¼Œå°±ä¼šè¿”å›é»˜è®¤å€¼300ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸€è¡Œä»£ç åŒ…æ‹¬äº†ä¸¤çº§å±æ€§çš„åˆ¤æ–­ã€‚

è¿™ä¸ªè¿ç®—ç¬¦å¾ˆé€‚åˆåˆ¤æ–­å‡½æ•°å‚æ•°æ˜¯å¦èµ‹å€¼ã€‚

```js
function Component(props) {
  const enable = props.enabled ?? true;
  // â€¦
}
```

ä¸Šé¢ä»£ç åˆ¤æ–­`props`å‚æ•°çš„`enabled`å±æ€§æ˜¯å¦èµ‹å€¼ï¼ŒåŸºæœ¬ç­‰åŒäºä¸‹é¢çš„å†™æ³•ã€‚

```js
function Component(props) {
  const {
    enabled: enable = true,
  } = props;
  // â€¦
}
```

`??`æœ¬è´¨ä¸Šæ˜¯é€»è¾‘è¿ç®—ï¼Œå®ƒä¸å…¶ä»–ä¸¤ä¸ªé€»è¾‘è¿ç®—ç¬¦`&&`å’Œ`||`æœ‰ä¸€ä¸ªä¼˜å…ˆçº§é—®é¢˜ï¼Œå®ƒä»¬ä¹‹é—´çš„ä¼˜å…ˆçº§åˆ°åº•å­°é«˜å­°ä½ã€‚ä¼˜å…ˆçº§çš„ä¸åŒï¼Œå¾€å¾€ä¼šå¯¼è‡´é€»è¾‘è¿ç®—çš„ç»“æœä¸åŒã€‚

ç°åœ¨çš„è§„åˆ™æ˜¯ï¼Œå¦‚æœå¤šä¸ªé€»è¾‘è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨ï¼Œå¿…é¡»ç”¨æ‹¬å·è¡¨æ˜ä¼˜å…ˆçº§ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

```js
// æŠ¥é”™
lhs && middle ?? rhs
lhs ?? middle && rhs
lhs || middle ?? rhs
lhs ?? middle || rhs
```

ä¸Šé¢å››ä¸ªè¡¨è¾¾å¼éƒ½ä¼šæŠ¥é”™ï¼Œå¿…é¡»åŠ å…¥è¡¨æ˜ä¼˜å…ˆçº§çš„æ‹¬å·ã€‚

```js
(lhs && middle) ?? rhs;
lhs && (middle ?? rhs);

(lhs ?? middle) && rhs;
lhs ?? (middle && rhs);

(lhs || middle) ?? rhs;
lhs || (middle ?? rhs);

(lhs ?? middle) || rhs;
lhs ?? (middle || rhs);
```

## 2.4 é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦ 

ES2021 å¼•å…¥äº†ä¸‰ä¸ªæ–°çš„é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦ï¼ˆlogical assignment operatorsï¼‰ï¼Œå°†é€»è¾‘è¿ç®—ç¬¦ä¸èµ‹å€¼è¿ç®—ç¬¦è¿›è¡Œç»“åˆã€‚

```js
// æˆ–èµ‹å€¼è¿ç®—ç¬¦
x ||= y
// ç­‰åŒäº
x || (x = y)

// ä¸èµ‹å€¼è¿ç®—ç¬¦
x &&= y
// ç­‰åŒäº
x && (x = y)

// Null èµ‹å€¼è¿ç®—ç¬¦
x ??= y
// ç­‰åŒäº
x ?? (x = y)
```

è¿™ä¸‰ä¸ªè¿ç®—ç¬¦`||=`ã€`&&=`ã€`??=`ç›¸å½“äºå…ˆè¿›è¡Œé€»è¾‘è¿ç®—ï¼Œç„¶åæ ¹æ®è¿ç®—ç»“æœï¼Œå†è§†æƒ…å†µè¿›è¡Œèµ‹å€¼è¿ç®—ã€‚

å®ƒä»¬çš„ä¸€ä¸ªç”¨é€”æ˜¯ï¼Œä¸ºå˜é‡æˆ–å±æ€§è®¾ç½®é»˜è®¤å€¼ã€‚

```js
// è€çš„å†™æ³•
user.id = user.id || 1;

// æ–°çš„å†™æ³•
user.id ||= 1;
```

ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ`user.id`å±æ€§å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è®¾ä¸º`1`ï¼Œæ–°çš„å†™æ³•æ¯”è€çš„å†™æ³•æ›´ç´§å‡‘ä¸€äº›ã€‚

ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚

```js
function example(opts) {
  opts.foo = opts.foo ?? 'bar';
  opts.baz ?? (opts.baz = 'qux');
}
```

ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‚æ•°å¯¹è±¡`opts`å¦‚æœä¸å­˜åœ¨å±æ€§`foo`å’Œå±æ€§`baz`ï¼Œåˆ™ä¸ºè¿™ä¸¤ä¸ªå±æ€§è®¾ç½®é»˜è®¤å€¼ã€‚æœ‰äº†â€œNull èµ‹å€¼è¿ç®—ç¬¦â€ä»¥åï¼Œå°±å¯ä»¥ç»Ÿä¸€å†™æˆä¸‹é¢è¿™æ ·ã€‚

```js
function example(opts) {
  opts.foo ??= 'bar';
  opts.baz ??= 'qux';
}
```